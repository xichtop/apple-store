<div class="flex flex-col items-center w-full gap-4 pt-4 overflow-hidden">
  <app-banner></app-banner>

  <app-advertise class="w-full px-28"></app-advertise>

  <app-categories class="w-full px-28"></app-categories>

  <ng-container
    [ngTemplateOutlet]="titleTpl"
    [ngTemplateOutletContext]="{
      main: 'store.title.tool',
      second: 'store.title.products'
    }"
  >
  </ng-container>

  <app-custom-swiper [swiperID]="'promotionSwiper'">
    <div
      class="flex items-center w-screen gap-4 overflow-x-scroll hide-scrollbar"
      id="promotionSwiper"
    >
      @for (promotion of promotions; track $index; let last = $last) {
        <app-promotion
          [ngClass]="{'pr-56': last}"
          [isEdu]="promotion.isEdu || false"
          [promotion]="promotion.promotion || ''"
          [title]="promotion.title"
          [description]="promotion.description || ''"
          [imgURL]="promotion.imgURL"
        >
        </app-promotion>
      }
    </div>
  </app-custom-swiper>

  <ng-container
    [ngTemplateOutlet]="titleTpl"
    [ngTemplateOutletContext]="{
      main: 'store.title.credit',
      second: 'store.title.promotion'
    }"
  >
  </ng-container>

  <div class="grid w-full h-full grid-cols-3 gap-8 mt-6 px-28">
    <div class="relative flex items-center justify-between w-full col-span-1 cursor-pointer rounded-3xl shadow-card hover:scale-[1.02] hover:shadow-xl transition-all">
      <p class="absolute w-full pr-8 text-3xl font-bold top-10 left-8">Khám phá tất cả các cách để chuẩn bị cho đại học.</p>
      <img class="object-contain w-full rounded-3xl" src="https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/store-card-40-bts-applecare-discount-sticker-202406?wid=800&hei=1000&fmt=p-jpg&qlt=95&.v=1716921862598" alt="stuff image">
    </div>

    <div class="grid h-full col-span-1 grid-rows-2 gap-8">
      <div class="relative col-span-1 bg-white cursor-pointer rounded-3xl shadow-card hover:scale-[1.02] hover:shadow-xl transition-all">
        <p class="absolute pr-12 text-2xl font-bold top-10 left-8">Trợ giá cho giáo dục dành cho sinh viên, giáo viên và hơn thế nữa.</p>
        <img class="object-contain h-full rounded-3xl" src="https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/store-card-25-bts-education-pricing-sticker?wid=960&hei=480&fmt=jpeg&qlt=90&.v=1716334554800" alt="">
      </div>
      <div class="relative col-span-1 bg-white rounded-3xl shadow-card hover:scale-[1.02] hover:shadow-xl transition-all cursor-pointer">
        <p class="absolute pr-20 text-2xl font-bold top-10 left-8">Giảm 20% AppleCare+.</p>
        <img class="object-contain h-full rounded-3xl" src="https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/store-card-25-bts-edu-applecare-sticker-202406?wid=960&hei=480&fmt=p-jpg&qlt=95&.v=1716921862359" alt="">
      </div>
    </div>

    <div class="grid h-full col-span-1 grid-rows-2 gap-8">
      <div class="relative col-span-1 bg-white cursor-pointer rounded-3xl shadow-card hover:scale-[1.02] hover:shadow-xl transition-all">
        <p class="absolute text-2xl font-bold top-10 left-8 pr-[40%]">Gói Apple Music cho Sinh Viên đi kèm với Apple TY+ miễn phí.</p>
        <img class="object-contain h-full rounded-3xl" src="https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/store-card-25-bts-edu-itunes-sticker-202406?wid=960&hei=480&fmt=p-jpg&qlt=95&.v=1716946339191" alt="">
      </div>
      <div class="relative col-span-1 bg-white rounded-3xl shadow-card hover:scale-[1.02] hover:shadow-xl transition-all cursor-pointer">
        <p class="absolute text-2xl font-bold top-10 left-8 pr-[30%]">Sở hữu gói ứng dụng chuyên nghiệp chỉ với 4.999.000đ.</p>
        <img class="object-contain h-full rounded-3xl" src="https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/store-card-25-bts-edu-pro-bundle-sticker-202406_GEO_VN?wid=960&hei=480&fmt=p-jpg&qlt=95&.v=1719848960766" alt="">
      </div>
    </div>
  </div>

  <ng-container
    [ngTemplateOutlet]="titleTpl"
    [ngTemplateOutletContext]="{
      main: 'store.title.accessories',
      second: 'store.title.combination'
    }"
  >
  </ng-container>

  <app-custom-swiper [swiperID]="'studentPromotion'">
    <div
      class="flex items-center w-screen gap-4 overflow-x-scroll hide-scrollbar"
      id="studentPromotion"
    >
      <app-promotion
        [title]="'Những thứ sinh viên nhất định phải có'"
        [description]="'Sắm những gì bạn cần để khởi đầu thật thông minh.'"
        [imgURL]="'https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/store-card-40-bts-accessories-202406_GEO_VN?wid=800&hei=1000&fmt=p-jpg&qlt=95&.v=1717435776952'"
      >
      </app-promotion>

      @for (promotion of studentPromotions; track $index; let last = $last) {
        <app-small-product
          [ngClass]="{'pr-56': last}"
          [isEdu]="promotion.isEdu || false"
          [promotion]="promotion.promotion || ''"
          [title]="promotion.title"
          [description]="promotion.description || ''"
          [imgURL]="promotion.imgURL"
        >
        </app-small-product>
      }
    </div>
  </app-custom-swiper>

  <ng-container
    [ngTemplateOutlet]="titleTpl"
    [ngTemplateOutletContext]="{
      main: 'store.title.ipad',
      second: 'store.title.start'
    }"
  >
  </ng-container>

  <app-custom-swiper [swiperID]="'iPadPromotion'">
    <div
      class="flex items-center w-screen gap-4 overflow-x-scroll hide-scrollbar"
      id="iPadPromotion"
    >
      <app-big-promotion
        [promotion]="'So sánh tất cả các phiên bản'"
        [title]="'iPad nào phù hợp với bạn?'"
        [imgURL]="'https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/ipad-card-50-compare-202405?wid=960&hei=1000&fmt=p-jpg&qlt=95&.v=1713389745476'"
      >
      </app-big-promotion>
      <app-big-promotion
        [promotion]="'Chuyên gia về Ipad'"
        [title]="'Mua hàng với tư vấn trực tiếp từ Chuyên Gia trực tuyến.'"
        [imgURL]="'https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/ipad-card-50-specialist-help-202309?wid=960&hei=1000&fmt=p-jpg&qlt=95&.v=1701194078872'"
      >
      </app-big-promotion>
      <app-big-promotion
        class="pr-56"
        [promotion]="'Khắc miễn phí'"
        [title]="'Tạo dấu ấn riêng cho iPad với thông điệp hoặc biểu tượng cảm xúc.'"
        [imgURL]="'https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/ipad-card-50-engraving-202405_GEO_VN?wid=960&hei=1000&fmt=p-jpg&qlt=95&.v=1714500761120'"
      >
      </app-big-promotion>
    </div>
  </app-custom-swiper>

  <ng-container
    [ngTemplateOutlet]="titleTpl"
    [ngTemplateOutletContext]="{
      main: 'store.title.save',
      second: 'store.title.findCombination'
    }"
  >
  </ng-container>

  <app-custom-swiper [swiperID]="'tradeInPromotion'">
    <div
      class="flex items-center w-screen gap-4 overflow-x-scroll hide-scrollbar"
      id="tradeInPromotion"
    >
      <app-big-promotion
        [promotion]="'Apple trade in'"
        [title]="'Đổi iPad đang dùng, nhận điểm tín dụng để mua iPad mới.'"
        [imgURL]="'https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/ipad-card-50-trade-in-202405?wid=960&hei=1000&fmt=p-jpg&qlt=95&.v=1713389745038'"
      >
      </app-big-promotion>
    </div>
  </app-custom-swiper>

  <ng-container
    [ngTemplateOutlet]="titleTpl"
    [ngTemplateOutletContext]="{
      main: 'store.title.experience',
      second: 'store.title.design'
    }"
  >
  </ng-container>

  <app-custom-swiper [swiperID]="'servicePromotion'">
    <div
      class="flex items-center w-screen gap-4 overflow-x-scroll hide-scrollbar"
      id="servicePromotion"
    >
      <app-big-promotion
        [promotion]="'Ipadosn'"
        [title]="'Làm việc dễ như chơi.'"
        [imgURL]="'https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/ipad-card-50-ipados-202405_GEO_VN?wid=960&hei=1000&fmt=p-jpg&qlt=95&.v=1713998535464'"
      >
      </app-big-promotion>
      <div>
        <div class="relative flex items-start w-[31rem] h-fit rounded-2xl shadow-card hover:shadow-xl scale-[0.98] hover:scale-100 cursor-pointer transition-all translate-x-28">
          <div class="absolute top-0 left-0 p-6">
            <p class="mb-2 text-xs uppercase">Công cụ thiết kế cho ứng dụng trên ipad</p>
            <p class="mb-2 text-3xl font-bold"><span class="text-blue-600">Chinh phục ngành học</span> với các ứng dụng được tuyển chọn cho môn học.</p>
          </div>
          <img [src]="'https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/ipad-card-50-edu-essentials-major-202404?wid=960&hei=1000&fmt=png-alpha&.v=1709938581676'" alt=""
            class="object-contain rounded-2xl"
          >
        </div>
      </div>
      <app-big-promotion
        class="pr-56"
        [promotion]="'apple one'"
        [title]="'Gộp chung nhiều dịch vụ của Apple. Tận hưởng nhiều hơn, tốn kém ít hơn.'"
        [imgURL]="'https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/ipad-card-50-subscriptions-202108?wid=960&hei=1000&fmt=p-jpg&qlt=95&.v=1626831753000'"
      >
      </app-big-promotion>
    </div>
  </app-custom-swiper>

</div>

<ng-template #titleTpl let-main="main" let-second="second">
  <div class="flex items-start w-full mt-6 px-28">
    <div class="w-3/5">
      <p class="text-2xl font-bold">
        {{main | transloco}}
        <span class="text-2xl font-bold text-hint">{{second | transloco}}</span>
      </p>
    </div>
  </div>
</ng-template>